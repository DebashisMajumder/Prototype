<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Energy Dashboard</title>
    <style>
        /* Reset and base styles */
        html, body {
            height: 100%;
            margin: 0;
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        /* General Navbar */
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: black;
            color: white;
            padding: 10px 20px;
            position: fixed;
            top: 0;
            width: 100%;
            box-sizing: border-box;
            z-index: 100;
            height: 60px;
        }
        .navbar .title {
            position: absolute;
            left: 50%;
            top: 75%;
            transform: translateX(-50%);
            font-size: 20px;
            font-weight: bold;
            z-index: 1;
        }
        
        .title-banner {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            height: 60px;
            width: 140px;
            z-index: 0;
            opacity: 0.7;
        }

        /* Hamburger */
        .hamburger {
            cursor: pointer;
            width: 25px;
            height: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            z-index: 2;
        }
        .hamburger div {
            width: 100%;
            height: 3px;
            background-color: white;
            transition: all 0.3s ease;
        }
        .hamburger.active div:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        .hamburger.active div:nth-child(2) {
            opacity: 0;
        }
        .hamburger.active div:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Side Menu - Made smaller */
        .side-menu {
            position: fixed;
            top: 0;
            left: -160px;
            width: 160px;
            height: 100%;
            background: #222;
            color: white;
            padding-top: 60px;
            transition: left 0.3s ease;
            z-index: 99;
        }
        .side-menu a {
            display: block;
            padding: 12px 15px;
            text-decoration: none;
            color: white;
            transition: background 0.3s;
            font-size: 14px;
        }
        .side-menu a:hover {
            background: #444;
        }
        .side-menu.active {
            left: 0;
        }

        /* Notification */
        .notification {
            font-size: 20px;
            cursor: pointer;
            position: relative;
            z-index: 2;
        }
        .notification::after {
            content: "‚Ä¢";
            color: red;
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 24px;
        }
        
        /* Main content */
        .content {
            padding-top: 60px; /* equal to navbar height */
            height: calc(100% - 60px);
            display: flex;
            flex-direction: column;
        }

        /* Status Section (33% of screen height) */
        .status-section {
            height: 33vh;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
        }

        .status-box {
            text-align: center;
            color: white;
        }

        .status-icon {
            width: 85px;
            height: 85px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 3px;
        }
        
        .status-icon img {
            max-width: 100%;
            max-height: 100%;
        }

        .circle {
            width: 90px;
            height: 90px;
            border: 3px solid limegreen;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .circle span {
            font-size: 16px;
        }
        .circle small {
            font-size: 13px;
            justify-items: center;
            margin-top: 5%;
            color: rgb(154, 154, 154);
        }

        /* Graph Section (33% of screen height) */
        .graph-section {
            height: 33vh;
            padding: 10px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .graph-placeholder {
            width: 90%;
            height: 90%;
            background: #111;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #aaa;
            font-size: 16px;
        }

        /* Carousel Container */
        .carousel-container {
            height: 34vh; /* reduced height to make space for graph */
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* Carousel Panels */
        .carousel {
            display: flex;
            transition: transform 0.4s ease-in-out;
            width: 100%;
            height: 100%;
        }

        .panel {
            min-width: 100%;
            height: 100%;
            text-align: center;
            box-sizing: border-box;
            padding: 10px;
        }

        .panel h2 {
            margin: 5px 0 10px;
            font-size: 18px;
            color: white;
        }

        /* Content inside panels */
        .panel-content {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2%;
        }

        .card {
            background: #111;
            border-radius: 10px;
            padding: 1%;
            width: 29%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .icon {
            font-size: 20px;
            margin-bottom: 6px;
        }

        .label {
            font-size: 11px;
            color: #aaa;
            text-transform: uppercase;
        }

        .value {
            font-size: 14px;
            font-weight: bold;
            color: white;
            margin-top: 3px;
        }

        /* Dots navigation */
        .dots {
            display: flex;
            justify-content: center;
            margin-top: 5px;
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
        }

        .dots span {
            height: 7px;
            width: 7px;
            margin: 0 3px;
            background-color: #444;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
        }

        .dots .active {
            background-color: white;
        }
        
        /* Calendar placeholder */
        .calendar {
            background: #222;
            border-radius: 8px;
            padding: 8px;
            width: 140px;
            height: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
    </style>
</head>
<body>

  <div class="navbar">
    <!-- Hamburger Menu -->
    <div class="hamburger" id="hamburger">
      <div></div>
      <div></div>
      <div></div>
    </div>

    <!-- Banner behind title -->
    <img src="Image\banner.png" class="title-banner" alt="Banner">
    
    <!-- Title -->
    <div class="title">protocol</div>

    <!-- Notification Icon -->
    <div class="notification">üîî</div>
  </div>

  <!-- Side Menu - Made smaller -->
  <div class="side-menu" id="sideMenu">
    <a href="#">üë§ Account</a>
    <a href="#">‚öôÔ∏è Setting</a>
    <a href="#">üóùÔ∏è Privacy Policy</a>
    <a href="#">‚ùá  About</a>
    
  </div>

  <div class="content">
    <!-- Solar Status Section -->
    <div class="status-section">
      <!-- House -->
      <div class="status-box">
        <div class="status-icon"><img src="Image\house.png" alt="House"></div>
        <div>üí° 10 U</div>
      </div>

      <!-- Inverter -->
      <div class="status-box">
        <div class="status-icon"><img src="Image\Invertar.png" alt="Inverter"></div>
        <div>‚ö° 80%</div>
      </div>

      <!-- Battery Health -->
      <div class="status-box">
        <div class="circle">
          <span>üîã 95% </span>
          <small> Health</small>
        </div>
      </div>
    </div>
    <div class="carousel-container">
      <!-- Panels -->
      <div class="carousel" id="carousel">
        <!-- System -->
        <div class="panel">
          <h2>System</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">total efficiency</div>
              <div class="value">30%</div>
            </div>
            <div class="card">
              <div class="icon">üå°Ô∏è</div>
              <div class="label">heat</div>
              <div class="value">30 ¬∞C</div>
            </div>
          </div>
        </div>

        <!-- Solar -->
        <div class="panel">
          <h2>Solar</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon">‚òÄÔ∏è</div>
              <div class="label">Intensity</div>
              <div class="value">400 lux</div>
            </div>
            <div class="card">
              <div class="icon">‚ö°</div>
              <div class="label">Power</div>
              <div class="value">820 watt</div>
            </div>
            <div class="card">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">efficiency</div>
              <div class="value">75%</div>
            </div>
          </div>
        </div>

        <!-- Wind -->
        <div class="panel">
          <h2>Wind</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon">üí®</div>
              <div class="label">airflow</div>
              <div class="value">4 km/h</div>
            </div>
            <div class="card">
              <div class="icon">‚ö°</div>
              <div class="label">Power</div>
              <div class="value">820 watt</div>
            </div>
            <div class="card">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">efficiency</div>
              <div class="value">75%</div>
            </div>
          </div>
        </div>

        <!-- Inverter -->
        <div class="panel">
          <h2>Inverter</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon"  style="color: blue;" >V</div>
              <div class="label">voltage</div>
              <div class="value">240 V</div>
            </div>
            <div class="card">
              <div class="icon">‚ö°</div>
              <div class="label">Power</div>
              <div class="value">820 watt</div>
            </div>
            <div class="card">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">efficiency</div>
              <div class="value">75%</div>
            </div>
          </div>
        </div>

        <!-- Load -->
        <div class="panel">
          <h2>Load</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon" style="color: blue;">V</div>
              <div class="label">voltage</div>
              <div class="value">240 V</div>
            </div>
            <div class="card">
              <div class="icon">‚ö°</div>
              <div class="label">Power</div>
              <div class="value">820 watt</div>
            </div>
            <div class="card">
              <div class="icon">‚öôÔ∏è</div>
              <div class="label">unit</div>
              <div class="value"> 100 U</div>
            </div>
          </div>
        </div>

        <!-- Power -->
        <div class="panel">
          <h2>Power</h2>
          <div class="panel-content">
            <div class="card">
              <div class="icon">üìÖ</div>
              <div class="label">today</div>
              <div class="value">25 U</div>
            </div>
            <div class="card">
              <div class="calendar">
                <h3>March 2023</h3>
                <p>[Calendar here]</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Dots -->
      <div class="dots" id="dots"></div>
    </div>

    <!-- Graph Section (New addition) -->
<div class="graph-section">
    <div class="graph-container">
        <img src="Image/Graph.png" alt="Energy Production Graph" class="graph-image">
        <div class="graph-label">Energy Production Graph</div>
    </div>
</div>

<style>
.graph-section {
    height: 33vh;
    /*padding: 10px;*/
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
}

.graph-container {
    width: 90%;
    height: 90%;
    background: #000000;
    border-radius: 1px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
}

.graph-image {
    width: 100%;
    height: calc(100% - 30px); /* Reserve space for the label */
    object-fit: contain;
}

.graph-label {
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #aaa;
    font-size: 14px;
    background: rgba(0, 0, 0, 0.3);
    border-top: 1px solid #333;
}
</style>
    <!-- Carousel Container -->
  </div>

  <script>
    // Navigation menu functionality
    const hamburger = document.getElementById('hamburger');
    const sideMenu = document.getElementById('sideMenu');
    const backBtn = document.getElementById('backBtn');

    // Toggle menu with hamburger
    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      sideMenu.classList.toggle('active');
    });

    // Close menu with Back button
    backBtn.addEventListener('click', (e) => {
      e.preventDefault();
      hamburger.classList.remove('active');
      sideMenu.classList.remove('active');
    });

    // Carousel functionality
    const carousel = document.getElementById('carousel');
    const panels = document.querySelectorAll('.panel');
    const dotsContainer = document.getElementById('dots');
    
    let index = 0;
    let startX = 0;
    let isDragging = false;

    // Create dots
    panels.forEach((_, i) => {
      const dot = document.createElement('span');
      if (i === 0) dot.classList.add('active');
      dot.addEventListener('click', () => {
        index = i;
        updateCarousel();
      });
      dotsContainer.appendChild(dot);
    });

    const dots = dotsContainer.querySelectorAll('span');

    function updateCarousel() {
      carousel.style.transform = `translateX(${-index * 100}%)`;
      dots.forEach(d => d.classList.remove('active'));
      dots[index].classList.add('active');
    }

    // Swipe handling for touch devices
    carousel.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
      isDragging = true;
    });

    carousel.addEventListener('touchmove', e => {
      if (!isDragging) return;
      const currentX = e.touches[0].clientX;
      const diff = startX - currentX;
      
      // Prevent vertical scrolling when horizontally swiping
      if (Math.abs(diff) > 10) {
        e.preventDefault();
      }
    });

    carousel.addEventListener('touchend', e => {
      if (!isDragging) return;
      isDragging = false;
      const endX = e.changedTouches[0].clientX;
      const diff = startX - endX;
      
      if (diff > 50 && index < panels.length - 1) {
        index++;
        updateCarousel();
      } else if (diff < -50 && index > 0) {
        index--;
        updateCarousel();
      }
    });
    // Mouse wheel scroll support
    carousel.addEventListener('wheel', e => {
      e.preventDefault();
      if (e.deltaY > 0 && index < panels.length - 1) {
        index++;
        updateCarousel();
      } else if (e.deltaY < 0 && index > 0) {
        index--;
        updateCarousel();
      }
    });

    // -----------------------------------------------Optional: Scroll over dots container to navigate
    dotsContainer.addEventListener('wheel', e => {
      e.preventDefault();
      if (e.deltaY > 0 && index < panels.length - 1) {
        index++;
        updateCarousel();
      } else if (e.deltaY < 0 && index > 0) {
        index--;
        updateCarousel();
      }
    });

    // Mouse drag support for desktop
    carousel.addEventListener('mousedown', e => {
      startX = e.clientX;
      isDragging = true;
      carousel.style.cursor = 'grabbing';
    });
    //---------------------------------------------------------end of scroll function--------------------
    document.addEventListener('mousemove', e => {
      if (!isDragging) return;
      const currentX = e.clientX;
      const diff = startX - currentX;
      
      // Apply temporary transform during drag
      carousel.style.transform = `translateX(calc(${-index * 100}% - ${diff}px))`;
    });

    document.addEventListener('mouseup', e => {
      if (!isDragging) return;
      isDragging = false;
      carousel.style.cursor = 'grab';
      
      const endX = e.clientX;
      const diff = startX - endX;
      
      if (diff > 100 && index < panels.length - 1) {
        index++;
      } else if (diff < -100 && index > 0) {
        index--;
      }
      
      updateCarousel();
    });
  </script>
  <script>
    async function fetchDataAndDisplay() {
      try {
        const response = await fetch("https://agemclab.unaux.com/data.php");
        const jsonData = await response.json(); // expects array from data.json

        jsonData.slice(0, 5).forEach((text, index) => {
          setTimeout(() => {
            document.getElementById(`item${index + 1}`).textContent = text;
          }, index * 1000); // 1s delay per item
        });

      } catch (error) {
        console.error("Fetch error:", error);
      }
    }

    // Initial run
    fetchDataAndDisplay();

    // Optional: refresh every 10 seconds
    setInterval(fetchDataAndDisplay, 10000);
  </script>
</body>
</html>